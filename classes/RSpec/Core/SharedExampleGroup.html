<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>RSpec::Core::SharedExampleGroup</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/github.css" type="text/css" media="screen" />
<script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>


    <meta property="og:title" value="RSpec::Core::SharedExampleGroup">

  
    
    <meta name="description" content="Shared example groups let you define common context and/or common examples that you wish to use in multiple example groups.  When defined, the shared group block is stored for later evaluation.">
    <meta property="og:description" content="Shared example groups let you define common context and/or common examples that you wish to use in multiple example groups.  When defined, the shared group block is stored for later evaluation.">
  

    <meta name="keywords" content="RSpec::Core::SharedExampleGroup class">
  
    <meta name="keywords" content="shared_examples, shared_context, shared_examples_for">
  
</head>

<body>
    <div class="banner">
        
        <h1>
            <span class="type">Module</span>
            RSpec::Core::SharedExampleGroup
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/vendor/bundle/ruby/2_6_0/gems/rspec-core-3_8_0/lib/rspec/core/shared_example_group_rb.html">vendor/bundle/ruby/2.6.0/gems/rspec-core-3.8.0/lib/rspec/core/shared_example_group.rb</a></li>
            
            <li><a href="../../../files/vendor/bundle/ruby/2_6_0/gems/rspec-core-3_8_0/lib/rspec/core/world_rb.html">vendor/bundle/ruby/2.6.0/gems/rspec-core-3.8.0/lib/rspec/core/world.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Shared example groups let you define common context and/or common examples that you wish to use in multiple example groups.</p>

<p>When defined, the shared group block is stored for later evaluation. It can later be included in an example group either explicitly (using `include_examples`, `include_context` or `it_behaves_like`) or implicitly (via matching metadata).</p>

<p>Named shared example groups are scoped based on where they are defined. Shared groups defined in an example group are available for inclusion in that example group or any child example groups, but not in any parent or sibling example groups. Shared example groups defined at the top level can be included from any example group.</p>

    </div>
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">MODULE</span>
          <a href="SharedExampleGroup/TopLevelDSL.html">RSpec::Core::SharedExampleGroup::TopLevelDSL</a>
        </li>
      
        <li>
          <span class="type">CLASS</span>
          <a href="SharedExampleGroup/Registry.html">RSpec::Core::SharedExampleGroup::Registry</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-shared_context">shared_context</a>,
              </li>
            
              
              <li>
                <a href="#method-i-shared_examples">shared_examples</a>,
              </li>
            
              
              <li>
                <a href="#method-i-shared_examples_for">shared_examples_for</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
    
    
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-shared_context">
            
              <b>shared_context</b>(name, *args, &amp;block)
            
            <a href="../../../classes/RSpec/Core/SharedExampleGroup.html#method-i-shared_context" name="method-i-shared_context" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="SharedExampleGroup.html#method-i-shared_examples">shared_examples</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-shared_examples">
            
              <b>shared_examples</b>(name, *args, &amp;block)
            
            <a href="../../../classes/RSpec/Core/SharedExampleGroup.html#method-i-shared_examples" name="method-i-shared_examples" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>@overload <a href="SharedExampleGroup.html#method-i-shared_examples"><code>shared_examples</code></a>(name, &amp;block)</p>

<pre><code>@param name [String, Symbol, Module] identifer to use when looking up
  this shared group
@param block The block to be eval&#39;d
</code></pre>

<p>@overload <a href="SharedExampleGroup.html#method-i-shared_examples"><code>shared_examples</code></a>(name, metadata, &amp;block)</p>

<pre><code>@param name [String, Symbol, Module] identifer to use when looking up
  this shared group
@param metadata [Array&lt;Symbol&gt;, Hash] metadata to attach to this
  group; any example group or example with matching metadata will
  automatically include this shared example group.
@param block The block to be eval&#39;d
</code></pre>

<p>Stores the block for later use. The block will be evaluated in the context of an example group via `include_examples`, `include_context`, or `it_behaves_like`.</p>

<p>@example</p>

<pre><code>shared_examples &quot;auditable&quot; do
  it &quot;stores an audit record on save!&quot; do
    expect { auditable.save! }.to change(Audit, :count).by(1)
  end
end

describe Account do
  it_behaves_like &quot;auditable&quot; do
    let(:auditable) { Account.new }
  end
end
</code></pre>

<p>@see ExampleGroup.it_behaves_like @see <a href="ExampleGroup.html#method-c-include_examples"><code>ExampleGroup.include_examples</code></a> @see <a href="ExampleGroup.html#method-c-include_context"><code>ExampleGroup.include_context</code></a></p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="SharedExampleGroup.html#method-i-shared_context">shared_context</a>, <a href="SharedExampleGroup.html#method-i-shared_examples_for">shared_examples_for</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-shared_examples_source')" id="l_method-i-shared_examples_source">show</a>
                
              </p>
              <div id="method-i-shared_examples_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rspec-core-3.8.0/lib/rspec/core/shared_example_group.rb, line 88</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">shared_examples</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">top_level</span> = <span class="ruby-keyword">self</span> <span class="ruby-operator">==</span> <span class="ruby-constant">ExampleGroup</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">top_level</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">RSpec</span><span class="ruby-operator">::</span><span class="ruby-constant">Support</span>.<span class="ruby-identifier">thread_local_data</span>[<span class="ruby-value">:in_example_group</span>]
    <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;Creating isolated shared examples from within a context is &quot;</span> \
          <span class="ruby-string">&quot;not allowed. Remove `RSpec.` prefix or move this to a &quot;</span> \
          <span class="ruby-string">&quot;top-level scope.&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">RSpec</span>.<span class="ruby-identifier">world</span>.<span class="ruby-identifier">shared_example_group_registry</span>.<span class="ruby-identifier">add</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-shared_examples_for">
            
              <b>shared_examples_for</b>(name, *args, &amp;block)
            
            <a href="../../../classes/RSpec/Core/SharedExampleGroup.html#method-i-shared_examples_for" name="method-i-shared_examples_for" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="SharedExampleGroup.html#method-i-shared_examples">shared_examples</a>
            </div>
          

          
          </div>
        
      
    
  
</div>

    </div>
  </body>
</html>
