<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>TestRakeApplication</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>


    <meta property="og:title" value="TestRakeApplication">

  

    <meta name="keywords" content="TestRakeApplication class">
  
    <meta name="keywords" content="setup, setup_command_line, test_display_exception_details, test_display_exception_details_cause, test_display_exception_details_cause_loop, test_display_tasks, test_display_tasks_with_long_comments, test_display_tasks_with_task_name_wider_than_tty_display, test_display_tasks_with_very_long_task_name_to_a_non_tty_shows_name_and_comment, test_display_tasks_with_long_comments_to_a_non_tty_shows_entire_comment, test_truncating_comments_to_a_non_tty, test_describe_tasks, test_show_lines, test_finding_rakefile, test_not_finding_rakefile, test_load_rakefile, test_load_rakefile_doesnt_print_rakefile_directory_from_same_dir, test_load_rakefile_from_subdir, test_load_rakefile_prints_rakefile_directory_from_subdir, test_load_rakefile_doesnt_print_rakefile_directory_from_subdir_if_silent, test_load_rakefile_not_found, test_load_from_system_rakefile, test_load_from_calculated_system_rakefile, test_terminal_columns, test_windows, test_loading_imports, test_building_imported_files_on_demand, test_handle_options_should_not_strip_options_from_argv, test_handle_options_trace_default_is_stderr, test_handle_options_trace_overrides_to_stdout, test_handle_options_trace_does_not_eat_following_task_names, test_good_run, test_display_task_run, test_display_prereqs, test_bad_run, test_bad_run_with_trace, test_bad_run_with_backtrace, test_bad_run_includes_exception_name, test_rake_error_excludes_exception_name, cause_supported?, test_printing_original_exception_cause, test_run_with_bad_options, test_standard_exception_handling_invalid_option, test_standard_exception_handling_other, test_standard_exception_handling_system_exit, test_standard_exception_handling_system_exit_nonzero, util_loader">
  
</head>

<body>
    <div class="banner">
        
        <h1>
            <span class="type">Class</span>
            TestRakeApplication
            
                <span class="parent">&lt;
                    
                    <a href="Rake/TestCase.html">Rake::TestCase</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/vendor/bundle/ruby/2_6_0/gems/rake-10_5_0/test/test_rake_application_rb.html">vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-cause_supported-3F">cause_supported?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-setup">setup</a>,
              </li>
            
              
              <li>
                <a href="#method-i-setup_command_line">setup_command_line</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-test_bad_run">test_bad_run</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_bad_run_includes_exception_name">test_bad_run_includes_exception_name</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_bad_run_with_backtrace">test_bad_run_with_backtrace</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_bad_run_with_trace">test_bad_run_with_trace</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_building_imported_files_on_demand">test_building_imported_files_on_demand</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_describe_tasks">test_describe_tasks</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_display_exception_details">test_display_exception_details</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_display_exception_details_cause">test_display_exception_details_cause</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_display_exception_details_cause_loop">test_display_exception_details_cause_loop</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_display_prereqs">test_display_prereqs</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_display_task_run">test_display_task_run</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_display_tasks">test_display_tasks</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_display_tasks_with_long_comments">test_display_tasks_with_long_comments</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_display_tasks_with_long_comments_to_a_non_tty_shows_entire_comment">test_display_tasks_with_long_comments_to_a_non_tty_shows_entire_comment</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_display_tasks_with_task_name_wider_than_tty_display">test_display_tasks_with_task_name_wider_than_tty_display</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_display_tasks_with_very_long_task_name_to_a_non_tty_shows_name_and_comment">test_display_tasks_with_very_long_task_name_to_a_non_tty_shows_name_and_comment</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_finding_rakefile">test_finding_rakefile</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_good_run">test_good_run</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_handle_options_should_not_strip_options_from_argv">test_handle_options_should_not_strip_options_from_argv</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_handle_options_trace_default_is_stderr">test_handle_options_trace_default_is_stderr</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_handle_options_trace_does_not_eat_following_task_names">test_handle_options_trace_does_not_eat_following_task_names</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_handle_options_trace_overrides_to_stdout">test_handle_options_trace_overrides_to_stdout</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_from_calculated_system_rakefile">test_load_from_calculated_system_rakefile</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_from_system_rakefile">test_load_from_system_rakefile</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_rakefile">test_load_rakefile</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_rakefile_doesnt_print_rakefile_directory_from_same_dir">test_load_rakefile_doesnt_print_rakefile_directory_from_same_dir</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_rakefile_doesnt_print_rakefile_directory_from_subdir_if_silent">test_load_rakefile_doesnt_print_rakefile_directory_from_subdir_if_silent</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_rakefile_from_subdir">test_load_rakefile_from_subdir</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_rakefile_not_found">test_load_rakefile_not_found</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_rakefile_prints_rakefile_directory_from_subdir">test_load_rakefile_prints_rakefile_directory_from_subdir</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loading_imports">test_loading_imports</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_not_finding_rakefile">test_not_finding_rakefile</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_printing_original_exception_cause">test_printing_original_exception_cause</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_rake_error_excludes_exception_name">test_rake_error_excludes_exception_name</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_run_with_bad_options">test_run_with_bad_options</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_show_lines">test_show_lines</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_standard_exception_handling_invalid_option">test_standard_exception_handling_invalid_option</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_standard_exception_handling_other">test_standard_exception_handling_other</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_standard_exception_handling_system_exit">test_standard_exception_handling_system_exit</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_standard_exception_handling_system_exit_nonzero">test_standard_exception_handling_system_exit_nonzero</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_terminal_columns">test_terminal_columns</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_truncating_comments_to_a_non_tty">test_truncating_comments_to_a_non_tty</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_windows">test_windows</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-util_loader">util_loader</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">CustomError</td>
            <td>=</td>
            <td class="attr-value">Class.new(RuntimeError)</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    


    <!-- Methods -->
    
    
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-cause_supported-3F">
            
              <b>cause_supported?</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-cause_supported-3F" name="method-i-cause_supported-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-cause_supported-3F_source')" id="l_method-i-cause_supported-3F_source">show</a>
                
              </p>
              <div id="method-i-cause_supported-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 527</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">cause_supported?</span>
  <span class="ruby-identifier">ex</span> = <span class="ruby-constant">StandardError</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">ex</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:cause</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-setup">
            
              <b>setup</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-setup" name="method-i-setup" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-setup_source')" id="l_method-i-setup_source">show</a>
                
              </p>
              <div id="method-i-setup_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 5</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">setup</span>
  <span class="ruby-keyword">super</span>

  <span class="ruby-ivar">@app</span> = <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">application</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">rakelib</span> = []
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-setup_command_line">
            
              <b>setup_command_line</b>(*options)
            
            <a href="../classes/TestRakeApplication.html#method-i-setup_command_line" name="method-i-setup_command_line" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-setup_command_line_source')" id="l_method-i-setup_command_line_source">show</a>
                
              </p>
              <div id="method-i-setup_command_line_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 12</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">setup_command_line</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">options</span>)
  <span class="ruby-constant">ARGV</span>.<span class="ruby-identifier">clear</span>
  <span class="ruby-identifier">options</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">option</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">ARGV</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">option</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_bad_run">
            
              <b>test_bad_run</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_bad_run" name="method-i-test_bad_run" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_bad_run_source')" id="l_method-i-test_bad_run_source">show</a>
                
              </p>
              <div id="method-i-test_bad_run_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 463</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_bad_run</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">intern</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;default&quot;</span>).<span class="ruby-identifier">enhance</span> { <span class="ruby-identifier">fail</span> }
  <span class="ruby-identifier">setup_command_line</span>(<span class="ruby-string">&#39;-f&#39;</span>, <span class="ruby-string">&#39;-s&#39;</span>,  <span class="ruby-string">&#39;--rakelib=&quot;&quot;&#39;</span>)
  <span class="ruby-identifier">_</span>, <span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> {
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">SystemExit</span>){ <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">run</span> }
  }
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/see full trace/i</span>, <span class="ruby-identifier">err</span>)
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">ARGV</span>.<span class="ruby-identifier">clear</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_bad_run_includes_exception_name">
            
              <b>test_bad_run_includes_exception_name</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_bad_run_includes_exception_name" name="method-i-test_bad_run_includes_exception_name" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_bad_run_includes_exception_name_source')" id="l_method-i-test_bad_run_includes_exception_name_source">show</a>
                
              </p>
              <div id="method-i-test_bad_run_includes_exception_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 500</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_bad_run_includes_exception_name</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">intern</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;default&quot;</span>).<span class="ruby-identifier">enhance</span> {
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">CustomError</span>, <span class="ruby-string">&quot;intentional&quot;</span>
  }
  <span class="ruby-identifier">setup_command_line</span>(<span class="ruby-string">&#39;-f&#39;</span>, <span class="ruby-string">&#39;-s&#39;</span>)
  <span class="ruby-identifier">_</span>, <span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> {
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">SystemExit</span>) {
      <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">run</span>
    }
  }
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/CustomError: intentional/</span>, <span class="ruby-identifier">err</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_bad_run_with_backtrace">
            
              <b>test_bad_run_with_backtrace</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_bad_run_with_backtrace" name="method-i-test_bad_run_with_backtrace" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_bad_run_with_backtrace_source')" id="l_method-i-test_bad_run_with_backtrace_source">show</a>
                
              </p>
              <div id="method-i-test_bad_run_with_backtrace_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 485</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_bad_run_with_backtrace</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">intern</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;default&quot;</span>).<span class="ruby-identifier">enhance</span> { <span class="ruby-identifier">fail</span> }
  <span class="ruby-identifier">setup_command_line</span>(<span class="ruby-string">&#39;-f&#39;</span>, <span class="ruby-string">&#39;-s&#39;</span>, <span class="ruby-string">&#39;--backtrace&#39;</span>)
  <span class="ruby-identifier">_</span>, <span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> {
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">SystemExit</span>) {
      <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">run</span>
    }
  }
  <span class="ruby-identifier">refute_match</span>(<span class="ruby-regexp">/see full trace/</span>, <span class="ruby-identifier">err</span>)
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">ARGV</span>.<span class="ruby-identifier">clear</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_bad_run_with_trace">
            
              <b>test_bad_run_with_trace</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_bad_run_with_trace" name="method-i-test_bad_run_with_trace" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_bad_run_with_trace_source')" id="l_method-i-test_bad_run_with_trace_source">show</a>
                
              </p>
              <div id="method-i-test_bad_run_with_trace_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 474</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_bad_run_with_trace</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">intern</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;default&quot;</span>).<span class="ruby-identifier">enhance</span> { <span class="ruby-identifier">fail</span> }
  <span class="ruby-identifier">setup_command_line</span>(<span class="ruby-string">&#39;-f&#39;</span>, <span class="ruby-string">&#39;-s&#39;</span>, <span class="ruby-string">&#39;-t&#39;</span>)
  <span class="ruby-identifier">_</span>, <span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> {
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">SystemExit</span>) { <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">run</span> }
  }
  <span class="ruby-identifier">refute_match</span>(<span class="ruby-regexp">/see full trace/i</span>, <span class="ruby-identifier">err</span>)
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">ARGV</span>.<span class="ruby-identifier">clear</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_building_imported_files_on_demand">
            
              <b>test_building_imported_files_on_demand</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_building_imported_files_on_demand" name="method-i-test_building_imported_files_on_demand" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_building_imported_files_on_demand_source')" id="l_method-i-test_building_imported_files_on_demand_source">show</a>
                
              </p>
              <div id="method-i-test_building_imported_files_on_demand_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 360</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_building_imported_files_on_demand</span>
  <span class="ruby-identifier">loader</span> = <span class="ruby-identifier">util_loader</span>

  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">intern</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;x.dummy&quot;</span>).<span class="ruby-identifier">enhance</span> <span class="ruby-keyword">do</span> <span class="ruby-identifier">loader</span>.<span class="ruby-identifier">make_dummy</span> <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">add_loader</span>(<span class="ruby-string">&quot;dummy&quot;</span>, <span class="ruby-identifier">loader</span>)
    <span class="ruby-identifier">add_import</span>(<span class="ruby-string">&quot;x.dummy&quot;</span>)
    <span class="ruby-identifier">load_imports</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># HACK no assertions</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_describe_tasks">
            
              <b>test_describe_tasks</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_describe_tasks" name="method-i-test_describe_tasks" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_describe_tasks_source')" id="l_method-i-test_describe_tasks_source">show</a>
                
              </p>
              <div id="method-i-test_describe_tasks_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 166</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_describe_tasks</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_tasks</span> = <span class="ruby-value">:describe</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_task_pattern</span> = <span class="ruby-regexp">//</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">last_description</span> = <span class="ruby-string">&quot;COMMENT&quot;</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">define_task</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;t&quot;</span>)
  <span class="ruby-identifier">out</span>, = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> { <span class="ruby-identifier">display_tasks_and_comments</span> } <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^rake t$/</span>, <span class="ruby-identifier">out</span>)
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^ {4}COMMENT$/</span>, <span class="ruby-identifier">out</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_display_exception_details">
            
              <b>test_display_exception_details</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_display_exception_details" name="method-i-test_display_exception_details" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_display_exception_details_source')" id="l_method-i-test_display_exception_details_source">show</a>
                
              </p>
              <div id="method-i-test_display_exception_details_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 19</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_display_exception_details</span>
  <span class="ruby-identifier">obj</span> = <span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">instance_eval</span>(<span class="ruby-node">&quot;def #{__method__}; raise &#39;test&#39;; end&quot;</span>, <span class="ruby-string">&quot;ruby&quot;</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">__method__</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">ex</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">out</span>, <span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">display_error_message</span> <span class="ruby-identifier">ex</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_empty</span> <span class="ruby-identifier">out</span>

  <span class="ruby-identifier">assert_match</span> <span class="ruby-string">&#39;rake aborted!&#39;</span>, <span class="ruby-identifier">err</span>
  <span class="ruby-identifier">assert_match</span> <span class="ruby-identifier">__method__</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">err</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_display_exception_details_cause">
            
              <b>test_display_exception_details_cause</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_display_exception_details_cause" name="method-i-test_display_exception_details_cause" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_display_exception_details_cause_source')" id="l_method-i-test_display_exception_details_cause_source">show</a>
                
              </p>
              <div id="method-i-test_display_exception_details_cause_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 37</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_display_exception_details_cause</span>
  <span class="ruby-identifier">skip</span> <span class="ruby-string">&#39;Exception#cause not implemented&#39;</span> <span class="ruby-keyword">unless</span>
    <span class="ruby-constant">Exception</span>.<span class="ruby-identifier">method_defined?</span> <span class="ruby-value">:cause</span>

  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-string">&#39;cause a&#39;</span>
  <span class="ruby-keyword">rescue</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-string">&#39;cause b&#39;</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">ex</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">out</span>, <span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">display_error_message</span> <span class="ruby-identifier">ex</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_empty</span> <span class="ruby-identifier">out</span>

  <span class="ruby-identifier">assert_match</span> <span class="ruby-string">&#39;cause a&#39;</span>, <span class="ruby-identifier">err</span>
  <span class="ruby-identifier">assert_match</span> <span class="ruby-string">&#39;cause b&#39;</span>, <span class="ruby-identifier">err</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_display_exception_details_cause_loop">
            
              <b>test_display_exception_details_cause_loop</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_display_exception_details_cause_loop" name="method-i-test_display_exception_details_cause_loop" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_display_exception_details_cause_loop_source')" id="l_method-i-test_display_exception_details_cause_loop_source">show</a>
                
              </p>
              <div id="method-i-test_display_exception_details_cause_loop_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 60</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_display_exception_details_cause_loop</span>
  <span class="ruby-identifier">skip</span> <span class="ruby-string">&#39;Exception#cause not implemented&#39;</span> <span class="ruby-keyword">unless</span>
    <span class="ruby-constant">Exception</span>.<span class="ruby-identifier">method_defined?</span> <span class="ruby-value">:cause</span>

  <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-string">&#39;cause a&#39;</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">a</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-string">&#39;cause b&#39;</span>
      <span class="ruby-keyword">rescue</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-identifier">a</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">ex</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">out</span>, <span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">display_error_message</span> <span class="ruby-identifier">ex</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_empty</span> <span class="ruby-identifier">out</span>

  <span class="ruby-identifier">assert_match</span> <span class="ruby-string">&#39;cause a&#39;</span>, <span class="ruby-identifier">err</span>
  <span class="ruby-identifier">assert_match</span> <span class="ruby-string">&#39;cause b&#39;</span>, <span class="ruby-identifier">err</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_display_prereqs">
            
              <b>test_display_prereqs</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_display_prereqs" name="method-i-test_display_prereqs" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_display_prereqs_source')" id="l_method-i-test_display_prereqs_source">show</a>
                
              </p>
              <div id="method-i-test_display_prereqs_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 447</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_display_prereqs</span>
  <span class="ruby-identifier">ran</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">setup_command_line</span>(<span class="ruby-string">&#39;-f&#39;</span>, <span class="ruby-string">&#39;-s&#39;</span>, <span class="ruby-string">&#39;--prereqs&#39;</span>, <span class="ruby-string">&#39;--rakelib=&quot;&quot;&#39;</span>)
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">last_description</span> = <span class="ruby-string">&quot;COMMENT&quot;</span>
  <span class="ruby-identifier">t</span> = <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">define_task</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;default&quot;</span>)
  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">enhance</span>([<span class="ruby-value">:a</span>, <span class="ruby-value">:b</span>])
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">define_task</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;a&quot;</span>)
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">define_task</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;b&quot;</span>)
  <span class="ruby-identifier">out</span>, = <span class="ruby-identifier">capture_io</span> { <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">run</span> }
  <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_prereqs</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">ran</span>
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/rake a$/</span>, <span class="ruby-identifier">out</span>)
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/rake b$/</span>, <span class="ruby-identifier">out</span>)
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/rake default\n( *(a|b)\n){2}/m</span>, <span class="ruby-identifier">out</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_display_task_run">
            
              <b>test_display_task_run</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_display_task_run" name="method-i-test_display_task_run" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_display_task_run_source')" id="l_method-i-test_display_task_run_source">show</a>
                
              </p>
              <div id="method-i-test_display_task_run_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 435</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_display_task_run</span>
  <span class="ruby-identifier">ran</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">setup_command_line</span>(<span class="ruby-string">&#39;-f&#39;</span>, <span class="ruby-string">&#39;-s&#39;</span>, <span class="ruby-string">&#39;--tasks&#39;</span>, <span class="ruby-string">&#39;--rakelib=&quot;&quot;&#39;</span>)
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">last_description</span> = <span class="ruby-string">&quot;COMMENT&quot;</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">define_task</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;default&quot;</span>)
  <span class="ruby-identifier">out</span>, = <span class="ruby-identifier">capture_io</span> { <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">run</span> }
  <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_tasks</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">ran</span>
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/rake default/</span>, <span class="ruby-identifier">out</span>)
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/# COMMENT/</span>, <span class="ruby-identifier">out</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_display_tasks">
            
              <b>test_display_tasks</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_display_tasks" name="method-i-test_display_tasks" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_display_tasks_source')" id="l_method-i-test_display_tasks_source">show</a>
                
              </p>
              <div id="method-i-test_display_tasks_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 87</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_display_tasks</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_tasks</span> = <span class="ruby-value">:tasks</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_task_pattern</span> = <span class="ruby-regexp">//</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">last_description</span> = <span class="ruby-string">&quot;COMMENT&quot;</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">define_task</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;t&quot;</span>)
  <span class="ruby-identifier">out</span>, = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> { <span class="ruby-identifier">display_tasks_and_comments</span> } <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^rake t/</span>, <span class="ruby-identifier">out</span>)
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/# COMMENT/</span>, <span class="ruby-identifier">out</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_display_tasks_with_long_comments">
            
              <b>test_display_tasks_with_long_comments</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_display_tasks_with_long_comments" name="method-i-test_display_tasks_with_long_comments" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_display_tasks_with_long_comments_source')" id="l_method-i-test_display_tasks_with_long_comments_source">show</a>
                
              </p>
              <div id="method-i-test_display_tasks_with_long_comments_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 97</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_display_tasks_with_long_comments</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">terminal_columns</span> = <span class="ruby-value">80</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_tasks</span> = <span class="ruby-value">:tasks</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_task_pattern</span> = <span class="ruby-regexp">//</span>
  <span class="ruby-identifier">numbers</span> = <span class="ruby-string">&quot;1234567890&quot;</span> <span class="ruby-operator">*</span> <span class="ruby-value">8</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">last_description</span> = <span class="ruby-identifier">numbers</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">define_task</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;t&quot;</span>)

  <span class="ruby-identifier">out</span>, = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> { <span class="ruby-identifier">display_tasks_and_comments</span> } <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^rake t/</span>, <span class="ruby-identifier">out</span>)
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/# #{numbers[0, 65]}\.\.\./</span>, <span class="ruby-identifier">out</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_display_tasks_with_long_comments_to_a_non_tty_shows_entire_comment">
            
              <b>test_display_tasks_with_long_comments_to_a_non_tty_shows_entire_comment</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_display_tasks_with_long_comments_to_a_non_tty_shows_entire_comment" name="method-i-test_display_tasks_with_long_comments_to_a_non_tty_shows_entire_comment" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_display_tasks_with_long_comments_to_a_non_tty_shows_entire_comment_source')" id="l_method-i-test_display_tasks_with_long_comments_to_a_non_tty_shows_entire_comment_source">show</a>
                
              </p>
              <div id="method-i-test_display_tasks_with_long_comments_to_a_non_tty_shows_entire_comment_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 140</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_display_tasks_with_long_comments_to_a_non_tty_shows_entire_comment</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_tasks</span> = <span class="ruby-value">:tasks</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_task_pattern</span> = <span class="ruby-regexp">//</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">tty_output</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">last_description</span> = <span class="ruby-string">&quot;1234567890&quot;</span> <span class="ruby-operator">*</span> <span class="ruby-value">8</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">define_task</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;t&quot;</span>)
  <span class="ruby-identifier">out</span>, = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> { <span class="ruby-identifier">display_tasks_and_comments</span> } <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^rake t/</span>, <span class="ruby-identifier">out</span>)
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/# #{@app.last_description}/</span>, <span class="ruby-identifier">out</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_display_tasks_with_task_name_wider_than_tty_display">
            
              <b>test_display_tasks_with_task_name_wider_than_tty_display</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_display_tasks_with_task_name_wider_than_tty_display" name="method-i-test_display_tasks_with_task_name_wider_than_tty_display" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_display_tasks_with_task_name_wider_than_tty_display_source')" id="l_method-i-test_display_tasks_with_task_name_wider_than_tty_display_source">show</a>
                
              </p>
              <div id="method-i-test_display_tasks_with_task_name_wider_than_tty_display_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 111</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_display_tasks_with_task_name_wider_than_tty_display</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">terminal_columns</span> = <span class="ruby-value">80</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_tasks</span> = <span class="ruby-value">:tasks</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_task_pattern</span> = <span class="ruby-regexp">//</span>
  <span class="ruby-identifier">task_name</span> = <span class="ruby-string">&quot;task name&quot;</span> <span class="ruby-operator">*</span> <span class="ruby-value">80</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">last_description</span> = <span class="ruby-string">&quot;something short&quot;</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">define_task</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-identifier">task_name</span>)

  <span class="ruby-identifier">out</span>, = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> { <span class="ruby-identifier">display_tasks_and_comments</span> } <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Ensure the entire task name is output and we end up showing no description</span>
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/rake #{task_name}  # .../</span>, <span class="ruby-identifier">out</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_display_tasks_with_very_long_task_name_to_a_non_tty_shows_name_and_comment">
            
              <b>test_display_tasks_with_very_long_task_name_to_a_non_tty_shows_name_and_comment</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_display_tasks_with_very_long_task_name_to_a_non_tty_shows_name_and_comment" name="method-i-test_display_tasks_with_very_long_task_name_to_a_non_tty_shows_name_and_comment" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_display_tasks_with_very_long_task_name_to_a_non_tty_shows_name_and_comment_source')" id="l_method-i-test_display_tasks_with_very_long_task_name_to_a_non_tty_shows_name_and_comment_source">show</a>
                
              </p>
              <div id="method-i-test_display_tasks_with_very_long_task_name_to_a_non_tty_shows_name_and_comment_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 125</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_display_tasks_with_very_long_task_name_to_a_non_tty_shows_name_and_comment</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_tasks</span> = <span class="ruby-value">:tasks</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_task_pattern</span> = <span class="ruby-regexp">//</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">tty_output</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">description</span> = <span class="ruby-string">&quot;something short&quot;</span>
  <span class="ruby-identifier">task_name</span> = <span class="ruby-string">&quot;task name&quot;</span> <span class="ruby-operator">*</span> <span class="ruby-value">80</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">last_description</span> = <span class="ruby-string">&quot;something short&quot;</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">define_task</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-identifier">task_name</span>)

  <span class="ruby-identifier">out</span>, = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> { <span class="ruby-identifier">display_tasks_and_comments</span> } <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Ensure the entire task name is output and we end up showing no description</span>
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/rake #{task_name}  # #{description}/</span>, <span class="ruby-identifier">out</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_finding_rakefile">
            
              <b>test_finding_rakefile</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_finding_rakefile" name="method-i-test_finding_rakefile" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_finding_rakefile_source')" id="l_method-i-test_finding_rakefile_source">show</a>
                
              </p>
              <div id="method-i-test_finding_rakefile_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 186</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_finding_rakefile</span>
  <span class="ruby-identifier">rakefile_default</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/Rakefile/i</span>, <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> { <span class="ruby-identifier">have_rakefile</span> })
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_good_run">
            
              <b>test_good_run</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_good_run" name="method-i-test_good_run" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_good_run_source')" id="l_method-i-test_good_run_source">show</a>
                
              </p>
              <div id="method-i-test_good_run_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 413</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_good_run</span>
  <span class="ruby-identifier">ran</span> = <span class="ruby-keyword">false</span>

  <span class="ruby-constant">ARGV</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;--rakelib=&quot;&quot;&#39;</span>

  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">silent</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">intern</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;default&quot;</span>).<span class="ruby-identifier">enhance</span> { <span class="ruby-identifier">ran</span> = <span class="ruby-keyword">true</span> }
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">rakefile_default</span>

  <span class="ruby-identifier">out</span>, <span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">run</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">ran</span>
  <span class="ruby-identifier">assert_empty</span> <span class="ruby-identifier">err</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;DEFAULT\n&quot;</span>, <span class="ruby-identifier">out</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_handle_options_should_not_strip_options_from_argv">
            
              <b>test_handle_options_should_not_strip_options_from_argv</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_handle_options_should_not_strip_options_from_argv" name="method-i-test_handle_options_should_not_strip_options_from_argv" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_handle_options_should_not_strip_options_from_argv_source')" id="l_method-i-test_handle_options_should_not_strip_options_from_argv_source">show</a>
                
              </p>
              <div id="method-i-test_handle_options_should_not_strip_options_from_argv_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 373</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_handle_options_should_not_strip_options_from_argv</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">trace</span>

  <span class="ruby-identifier">valid_option</span> = <span class="ruby-string">&#39;--trace&#39;</span>
  <span class="ruby-identifier">setup_command_line</span>(<span class="ruby-identifier">valid_option</span>)

  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">handle_options</span>

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">ARGV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">valid_option</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">trace</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_handle_options_trace_default_is_stderr">
            
              <b>test_handle_options_trace_default_is_stderr</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_handle_options_trace_default_is_stderr" name="method-i-test_handle_options_trace_default_is_stderr" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_handle_options_trace_default_is_stderr_source')" id="l_method-i-test_handle_options_trace_default_is_stderr_source">show</a>
                
              </p>
              <div id="method-i-test_handle_options_trace_default_is_stderr_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 385</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_handle_options_trace_default_is_stderr</span>
  <span class="ruby-identifier">setup_command_line</span>(<span class="ruby-string">&quot;--trace&quot;</span>)

  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">handle_options</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">STDERR</span>, <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">trace_output</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">trace</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_handle_options_trace_does_not_eat_following_task_names">
            
              <b>test_handle_options_trace_does_not_eat_following_task_names</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_handle_options_trace_does_not_eat_following_task_names" name="method-i-test_handle_options_trace_does_not_eat_following_task_names" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_handle_options_trace_does_not_eat_following_task_names_source')" id="l_method-i-test_handle_options_trace_does_not_eat_following_task_names_source">show</a>
                
              </p>
              <div id="method-i-test_handle_options_trace_does_not_eat_following_task_names_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 403</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_handle_options_trace_does_not_eat_following_task_names</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">trace</span>

  <span class="ruby-identifier">setup_command_line</span>(<span class="ruby-string">&quot;--trace&quot;</span>, <span class="ruby-string">&quot;sometask&quot;</span>)

  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">handle_options</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">ARGV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;sometask&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">trace</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_handle_options_trace_overrides_to_stdout">
            
              <b>test_handle_options_trace_overrides_to_stdout</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_handle_options_trace_overrides_to_stdout" name="method-i-test_handle_options_trace_overrides_to_stdout" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_handle_options_trace_overrides_to_stdout_source')" id="l_method-i-test_handle_options_trace_overrides_to_stdout_source">show</a>
                
              </p>
              <div id="method-i-test_handle_options_trace_overrides_to_stdout_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 394</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_handle_options_trace_overrides_to_stdout</span>
  <span class="ruby-identifier">setup_command_line</span>(<span class="ruby-string">&quot;--trace=stdout&quot;</span>)

  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">handle_options</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">STDOUT</span>, <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">trace_output</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">trace</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_from_calculated_system_rakefile">
            
              <b>test_load_from_calculated_system_rakefile</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_load_from_calculated_system_rakefile" name="method-i-test_load_from_calculated_system_rakefile" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_load_from_calculated_system_rakefile_source')" id="l_method-i-test_load_from_calculated_system_rakefile_source">show</a>
                
              </p>
              <div id="method-i-test_load_from_calculated_system_rakefile_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 307</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_load_from_calculated_system_rakefile</span>
  <span class="ruby-identifier">rakefile_default</span>
  <span class="ruby-keyword">def</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier ruby-title">standard_system_dir</span>
    <span class="ruby-string">&quot;__STD_SYS_DIR__&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;RAKE_SYSTEM&#39;</span>] = <span class="ruby-keyword">nil</span>

  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">handle_options</span>
    <span class="ruby-identifier">options</span>.<span class="ruby-identifier">silent</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">options</span>.<span class="ruby-identifier">load_system</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">options</span>.<span class="ruby-identifier">rakelib</span> = []
    <span class="ruby-identifier">load_rakefile</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;__STD_SYS_DIR__&quot;</span>, <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">system_dir</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">SystemExit</span>
  <span class="ruby-identifier">flunk</span> <span class="ruby-string">&#39;failed to find system rakefile&#39;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_from_system_rakefile">
            
              <b>test_load_from_system_rakefile</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_load_from_system_rakefile" name="method-i-test_load_from_system_rakefile" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_load_from_system_rakefile_source')" id="l_method-i-test_load_from_system_rakefile_source">show</a>
                
              </p>
              <div id="method-i-test_load_from_system_rakefile_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 290</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_load_from_system_rakefile</span>
  <span class="ruby-identifier">rake_system_dir</span>

  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">handle_options</span>
    <span class="ruby-identifier">options</span>.<span class="ruby-identifier">silent</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">options</span>.<span class="ruby-identifier">load_system</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">options</span>.<span class="ruby-identifier">rakelib</span> = []
    <span class="ruby-identifier">load_rakefile</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@system_dir</span>, <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">system_dir</span>
  <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">rakefile</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">SystemExit</span>
  <span class="ruby-identifier">flunk</span> <span class="ruby-string">&#39;failed to load rakefile&#39;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_rakefile">
            
              <b>test_load_rakefile</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_load_rakefile" name="method-i-test_load_rakefile" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_load_rakefile_source')" id="l_method-i-test_load_rakefile_source">show</a>
                
              </p>
              <div id="method-i-test_load_rakefile_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 198</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_load_rakefile</span>
  <span class="ruby-identifier">rakefile_unittest</span>

  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">handle_options</span>
    <span class="ruby-identifier">options</span>.<span class="ruby-identifier">silent</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">load_rakefile</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;rakefile&quot;</span>, <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">rakefile</span>.<span class="ruby-identifier">downcase</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@tempdir</span>, <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">pwd</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_rakefile_doesnt_print_rakefile_directory_from_same_dir">
            
              <b>test_load_rakefile_doesnt_print_rakefile_directory_from_same_dir</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_load_rakefile_doesnt_print_rakefile_directory_from_same_dir" name="method-i-test_load_rakefile_doesnt_print_rakefile_directory_from_same_dir" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_load_rakefile_doesnt_print_rakefile_directory_from_same_dir_source')" id="l_method-i-test_load_rakefile_doesnt_print_rakefile_directory_from_same_dir_source">show</a>
                
              </p>
              <div id="method-i-test_load_rakefile_doesnt_print_rakefile_directory_from_same_dir_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 211</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_load_rakefile_doesnt_print_rakefile_directory_from_same_dir</span>
  <span class="ruby-identifier">rakefile_unittest</span>

  <span class="ruby-identifier">_</span>, <span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> <span class="ruby-keyword">do</span>
      <span class="ruby-comment"># pretend we started from the unittest dir</span>
      <span class="ruby-ivar">@original_dir</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-string">&quot;.&quot;</span>)
      <span class="ruby-identifier">raw_load_rakefile</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_empty</span> <span class="ruby-identifier">err</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_rakefile_doesnt_print_rakefile_directory_from_subdir_if_silent">
            
              <b>test_load_rakefile_doesnt_print_rakefile_directory_from_subdir_if_silent</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_load_rakefile_doesnt_print_rakefile_directory_from_subdir_if_silent" name="method-i-test_load_rakefile_doesnt_print_rakefile_directory_from_subdir_if_silent" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_load_rakefile_doesnt_print_rakefile_directory_from_subdir_if_silent_source')" id="l_method-i-test_load_rakefile_doesnt_print_rakefile_directory_from_subdir_if_silent_source">show</a>
                
              </p>
              <div id="method-i-test_load_rakefile_doesnt_print_rakefile_directory_from_subdir_if_silent_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 255</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_load_rakefile_doesnt_print_rakefile_directory_from_subdir_if_silent</span>
  <span class="ruby-identifier">rakefile_unittest</span>
  <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span> <span class="ruby-string">&#39;subdir&#39;</span>

  <span class="ruby-identifier">_</span>, <span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">handle_options</span>
      <span class="ruby-identifier">options</span>.<span class="ruby-identifier">silent</span> = <span class="ruby-keyword">true</span>
      <span class="ruby-identifier">raw_load_rakefile</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_empty</span> <span class="ruby-identifier">err</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_rakefile_from_subdir">
            
              <b>test_load_rakefile_from_subdir</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_load_rakefile_from_subdir" name="method-i-test_load_rakefile_from_subdir" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_load_rakefile_from_subdir_source')" id="l_method-i-test_load_rakefile_from_subdir_source">show</a>
                
              </p>
              <div id="method-i-test_load_rakefile_from_subdir_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 225</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_load_rakefile_from_subdir</span>
  <span class="ruby-identifier">rakefile_unittest</span>
  <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span> <span class="ruby-string">&#39;subdir&#39;</span>

  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">handle_options</span>
    <span class="ruby-identifier">options</span>.<span class="ruby-identifier">silent</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">load_rakefile</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;rakefile&quot;</span>, <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">rakefile</span>.<span class="ruby-identifier">downcase</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-ivar">@tempdir</span>, <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">pwd</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_rakefile_not_found">
            
              <b>test_load_rakefile_not_found</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_load_rakefile_not_found" name="method-i-test_load_rakefile_not_found" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_load_rakefile_not_found_source')" id="l_method-i-test_load_rakefile_not_found_source">show</a>
                
              </p>
              <div id="method-i-test_load_rakefile_not_found_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 270</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_load_rakefile_not_found</span>
  <span class="ruby-constant">ARGV</span>.<span class="ruby-identifier">clear</span>
  <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span> <span class="ruby-ivar">@tempdir</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;RAKE_SYSTEM&#39;</span>] = <span class="ruby-string">&#39;not_exist&#39;</span>

  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">handle_options</span>
    <span class="ruby-identifier">options</span>.<span class="ruby-identifier">silent</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>


  <span class="ruby-identifier">ex</span> = <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">RuntimeError</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">raw_load_rakefile</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/no rakefile found/i</span>, <span class="ruby-identifier">ex</span>.<span class="ruby-identifier">message</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_rakefile_prints_rakefile_directory_from_subdir">
            
              <b>test_load_rakefile_prints_rakefile_directory_from_subdir</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_load_rakefile_prints_rakefile_directory_from_subdir" name="method-i-test_load_rakefile_prints_rakefile_directory_from_subdir" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_load_rakefile_prints_rakefile_directory_from_subdir_source')" id="l_method-i-test_load_rakefile_prints_rakefile_directory_from_subdir_source">show</a>
                
              </p>
              <div id="method-i-test_load_rakefile_prints_rakefile_directory_from_subdir_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 239</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_load_rakefile_prints_rakefile_directory_from_subdir</span>
  <span class="ruby-identifier">rakefile_unittest</span>
  <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span> <span class="ruby-string">&#39;subdir&#39;</span>

  <span class="ruby-identifier">app</span> = <span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Application</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">rakelib</span> = []

  <span class="ruby-identifier">_</span>, <span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">app</span>.<span class="ruby-identifier">instance_eval</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">raw_load_rakefile</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">&quot;(in #{@tempdir}\)\n&quot;</span>, <span class="ruby-identifier">err</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loading_imports">
            
              <b>test_loading_imports</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_loading_imports" name="method-i-test_loading_imports" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_loading_imports_source')" id="l_method-i-test_loading_imports_source">show</a>
                
              </p>
              <div id="method-i-test_loading_imports_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 348</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_loading_imports</span>
  <span class="ruby-identifier">loader</span> = <span class="ruby-identifier">util_loader</span>

  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">add_loader</span>(<span class="ruby-string">&quot;dummy&quot;</span>, <span class="ruby-identifier">loader</span>)
    <span class="ruby-identifier">add_import</span>(<span class="ruby-string">&quot;x.dummy&quot;</span>)
    <span class="ruby-identifier">load_imports</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># HACK no assertions</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_not_finding_rakefile">
            
              <b>test_not_finding_rakefile</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_not_finding_rakefile" name="method-i-test_not_finding_rakefile" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_not_finding_rakefile_source')" id="l_method-i-test_not_finding_rakefile_source">show</a>
                
              </p>
              <div id="method-i-test_not_finding_rakefile_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 192</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_not_finding_rakefile</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> { <span class="ruby-ivar">@rakefiles</span> = [<span class="ruby-string">&#39;NEVER_FOUND&#39;</span>] }
  <span class="ruby-identifier">assert</span>(<span class="ruby-operator">!</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> <span class="ruby-keyword">do</span> <span class="ruby-identifier">have_rakefile</span> <span class="ruby-keyword">end</span>)
  <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">rakefile</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_printing_original_exception_cause">
            
              <b>test_printing_original_exception_cause</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_printing_original_exception_cause" name="method-i-test_printing_original_exception_cause" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_printing_original_exception_cause_source')" id="l_method-i-test_printing_original_exception_cause_source">show</a>
                
              </p>
              <div id="method-i-test_printing_original_exception_cause_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 532</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_printing_original_exception_cause</span>
  <span class="ruby-identifier">custom_error</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">StandardError</span>)
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">intern</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;default&quot;</span>).<span class="ruby-identifier">enhance</span> {
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-identifier">custom_error</span>, <span class="ruby-string">&quot;Original Error&quot;</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-identifier">custom_error</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-identifier">custom_error</span>, <span class="ruby-string">&quot;Secondary Error&quot;</span>
    <span class="ruby-keyword">end</span>
  }
  <span class="ruby-identifier">setup_command_line</span>(<span class="ruby-string">&#39;-f&#39;</span>, <span class="ruby-string">&#39;-s&#39;</span>)
  <span class="ruby-identifier">_</span> ,<span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> {
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">SystemExit</span>) {
      <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">run</span>
    }
  }
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">cause_supported?</span>
    <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/Original Error/</span>, <span class="ruby-identifier">err</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/Secondary Error/</span>, <span class="ruby-identifier">err</span>)
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">ARGV</span>.<span class="ruby-identifier">clear</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_rake_error_excludes_exception_name">
            
              <b>test_rake_error_excludes_exception_name</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_rake_error_excludes_exception_name" name="method-i-test_rake_error_excludes_exception_name" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_rake_error_excludes_exception_name_source')" id="l_method-i-test_rake_error_excludes_exception_name_source">show</a>
                
              </p>
              <div id="method-i-test_rake_error_excludes_exception_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 513</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_rake_error_excludes_exception_name</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">intern</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;default&quot;</span>).<span class="ruby-identifier">enhance</span> {
    <span class="ruby-identifier">fail</span> <span class="ruby-string">&quot;intentional&quot;</span>
  }
  <span class="ruby-identifier">setup_command_line</span>(<span class="ruby-string">&#39;-f&#39;</span>, <span class="ruby-string">&#39;-s&#39;</span>)
  <span class="ruby-identifier">_</span>, <span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> {
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">SystemExit</span>) {
      <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">run</span>
    }
 }
 <span class="ruby-identifier">refute_match</span>(<span class="ruby-regexp">/RuntimeError/</span>, <span class="ruby-identifier">err</span>)
 <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/intentional/</span>, <span class="ruby-identifier">err</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_run_with_bad_options">
            
              <b>test_run_with_bad_options</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_run_with_bad_options" name="method-i-test_run_with_bad_options" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_run_with_bad_options_source')" id="l_method-i-test_run_with_bad_options_source">show</a>
                
              </p>
              <div id="method-i-test_run_with_bad_options_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 555</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_run_with_bad_options</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">intern</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;default&quot;</span>).<span class="ruby-identifier">enhance</span> { <span class="ruby-identifier">fail</span> }
  <span class="ruby-identifier">setup_command_line</span>(<span class="ruby-string">&#39;-f&#39;</span>, <span class="ruby-string">&#39;-s&#39;</span>, <span class="ruby-string">&#39;--xyzzy&#39;</span>)
  <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">SystemExit</span>) {
    <span class="ruby-identifier">capture_io</span> { <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">run</span> }
  }
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">ARGV</span>.<span class="ruby-identifier">clear</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_show_lines">
            
              <b>test_show_lines</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_show_lines" name="method-i-test_show_lines" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_show_lines_source')" id="l_method-i-test_show_lines_source">show</a>
                
              </p>
              <div id="method-i-test_show_lines_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 176</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_show_lines</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_tasks</span> = <span class="ruby-value">:lines</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_task_pattern</span> = <span class="ruby-regexp">//</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">last_description</span> = <span class="ruby-string">&quot;COMMENT&quot;</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">define_task</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;t&quot;</span>)
  <span class="ruby-ivar">@app</span>[<span class="ruby-string">&#39;t&#39;</span>].<span class="ruby-identifier">locations</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;HERE:1&quot;</span>
  <span class="ruby-identifier">out</span>, = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> { <span class="ruby-identifier">display_tasks_and_comments</span> } <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^rake t +[^:]+:\d+ *$/</span>, <span class="ruby-identifier">out</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_standard_exception_handling_invalid_option">
            
              <b>test_standard_exception_handling_invalid_option</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_standard_exception_handling_invalid_option" name="method-i-test_standard_exception_handling_invalid_option" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_standard_exception_handling_invalid_option_source')" id="l_method-i-test_standard_exception_handling_invalid_option_source">show</a>
                
              </p>
              <div id="method-i-test_standard_exception_handling_invalid_option_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 565</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_standard_exception_handling_invalid_option</span>
  <span class="ruby-identifier">out</span>, <span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">e</span> = <span class="ruby-identifier">assert_raises</span> <span class="ruby-constant">SystemExit</span> <span class="ruby-keyword">do</span>
      <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">standard_exception_handling</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidOption</span>, <span class="ruby-string">&#39;blah&#39;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_empty</span> <span class="ruby-identifier">out</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;invalid option: blah\n&quot;</span>, <span class="ruby-identifier">err</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_standard_exception_handling_other">
            
              <b>test_standard_exception_handling_other</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_standard_exception_handling_other" name="method-i-test_standard_exception_handling_other" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_standard_exception_handling_other_source')" id="l_method-i-test_standard_exception_handling_other_source">show</a>
                
              </p>
              <div id="method-i-test_standard_exception_handling_other_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 580</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_standard_exception_handling_other</span>
  <span class="ruby-identifier">out</span>, <span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">e</span> = <span class="ruby-identifier">assert_raises</span> <span class="ruby-constant">SystemExit</span> <span class="ruby-keyword">do</span>
      <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">standard_exception_handling</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-string">&#39;blah&#39;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_empty</span> <span class="ruby-identifier">out</span>
  <span class="ruby-identifier">assert_match</span> <span class="ruby-string">&quot;rake aborted!\n&quot;</span>, <span class="ruby-identifier">err</span>
  <span class="ruby-identifier">assert_match</span> <span class="ruby-string">&quot;blah\n&quot;</span>, <span class="ruby-identifier">err</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_standard_exception_handling_system_exit">
            
              <b>test_standard_exception_handling_system_exit</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_standard_exception_handling_system_exit" name="method-i-test_standard_exception_handling_system_exit" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_standard_exception_handling_system_exit_source')" id="l_method-i-test_standard_exception_handling_system_exit_source">show</a>
                
              </p>
              <div id="method-i-test_standard_exception_handling_system_exit_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 596</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_standard_exception_handling_system_exit</span>
  <span class="ruby-identifier">out</span>, <span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">e</span> = <span class="ruby-identifier">assert_raises</span> <span class="ruby-constant">SystemExit</span> <span class="ruby-keyword">do</span>
      <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">standard_exception_handling</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">exit</span> <span class="ruby-value">0</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_empty</span> <span class="ruby-identifier">out</span>
  <span class="ruby-identifier">assert_empty</span> <span class="ruby-identifier">err</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_standard_exception_handling_system_exit_nonzero">
            
              <b>test_standard_exception_handling_system_exit_nonzero</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_standard_exception_handling_system_exit_nonzero" name="method-i-test_standard_exception_handling_system_exit_nonzero" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_standard_exception_handling_system_exit_nonzero_source')" id="l_method-i-test_standard_exception_handling_system_exit_nonzero_source">show</a>
                
              </p>
              <div id="method-i-test_standard_exception_handling_system_exit_nonzero_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 611</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_standard_exception_handling_system_exit_nonzero</span>
  <span class="ruby-identifier">out</span>, <span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">e</span> = <span class="ruby-identifier">assert_raises</span> <span class="ruby-constant">SystemExit</span> <span class="ruby-keyword">do</span>
      <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">standard_exception_handling</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">exit</span> <span class="ruby-value">5</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_empty</span> <span class="ruby-identifier">out</span>
  <span class="ruby-identifier">assert_empty</span> <span class="ruby-identifier">err</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_terminal_columns">
            
              <b>test_terminal_columns</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_terminal_columns" name="method-i-test_terminal_columns" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_terminal_columns_source')" id="l_method-i-test_terminal_columns_source">show</a>
                
              </p>
              <div id="method-i-test_terminal_columns_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 328</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_terminal_columns</span>
  <span class="ruby-identifier">old_rake_columns</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;RAKE_COLUMNS&#39;</span>]

  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;RAKE_COLUMNS&#39;</span>] = <span class="ruby-string">&#39;42&#39;</span>

  <span class="ruby-identifier">app</span> = <span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Application</span>.<span class="ruby-identifier">new</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">42</span>, <span class="ruby-identifier">app</span>.<span class="ruby-identifier">terminal_columns</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">old_rake_columns</span>
    <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;RAKE_COLUMNS&#39;</span>].<span class="ruby-identifier">delete</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;RAKE_COLUMNS&#39;</span>] = <span class="ruby-identifier">old_rake_columns</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_truncating_comments_to_a_non_tty">
            
              <b>test_truncating_comments_to_a_non_tty</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_truncating_comments_to_a_non_tty" name="method-i-test_truncating_comments_to_a_non_tty" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_truncating_comments_to_a_non_tty_source')" id="l_method-i-test_truncating_comments_to_a_non_tty_source">show</a>
                
              </p>
              <div id="method-i-test_truncating_comments_to_a_non_tty_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 151</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_truncating_comments_to_a_non_tty</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">terminal_columns</span> = <span class="ruby-value">80</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_tasks</span> = <span class="ruby-value">:tasks</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_task_pattern</span> = <span class="ruby-regexp">//</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">tty_output</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">numbers</span> = <span class="ruby-string">&quot;1234567890&quot;</span> <span class="ruby-operator">*</span> <span class="ruby-value">8</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">last_description</span> = <span class="ruby-identifier">numbers</span>
  <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">define_task</span>(<span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">Task</span>, <span class="ruby-string">&quot;t&quot;</span>)

  <span class="ruby-identifier">out</span>, = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">instance_eval</span> { <span class="ruby-identifier">display_tasks_and_comments</span> } <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^rake t/</span>, <span class="ruby-identifier">out</span>)
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/# #{numbers[0, 65]}\.\.\./</span>, <span class="ruby-identifier">out</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_windows">
            
              <b>test_windows</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-test_windows" name="method-i-test_windows" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-test_windows_source')" id="l_method-i-test_windows_source">show</a>
                
              </p>
              <div id="method-i-test_windows_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 344</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_windows</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> (<span class="ruby-ivar">@app</span>.<span class="ruby-identifier">windows?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@app</span>.<span class="ruby-identifier">unix?</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-util_loader">
            
              <b>util_loader</b>()
            
            <a href="../classes/TestRakeApplication.html#method-i-util_loader" name="method-i-util_loader" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-util_loader_source')" id="l_method-i-util_loader_source">show</a>
                
              </p>
              <div id="method-i-util_loader_source" class="dyn-source">
                <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.6.0/gems/rake-10.5.0/test/test_rake_application.rb, line 626</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">util_loader</span>
  <span class="ruby-identifier">loader</span> = <span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>

  <span class="ruby-identifier">loader</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@load_called</span>, <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">loader</span>.<span class="ruby-identifier">load</span> <span class="ruby-identifier">arg</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-identifier">arg</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">arg</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;x.dummy&#39;</span>
    <span class="ruby-ivar">@load_called</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">loader</span>.<span class="ruby-identifier">instance_variable_set</span> <span class="ruby-value">:@make_dummy_called</span>, <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">loader</span>.<span class="ruby-identifier">make_dummy</span>
    <span class="ruby-ivar">@make_dummy_called</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">loader</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </div>
  </body>
</html>
